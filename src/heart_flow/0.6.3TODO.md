# 0.6.3 版本发布前待办事项

- **统一化人格配置:**
    - 检查代码中是否存在硬编码的人格相关配置。
    - 将所有硬编码的人格配置替换为使用 `individual` 模块进行管理。

- **在 Planner 中添加回复计数信息:**
    - 修改 `HeartFlowChatInstance` 的 `Plan` 阶段逻辑。
    - 将当前周期的回复计数（或其他相关统计信息）作为输入提供给 Planner。
    - 目的是为 Planner 提供负反馈，减少连续回复或不当回复的可能性。

- **恢复/检查被停止的功能:**
    - 全面审查代码，特别是对比之前的版本或设计文档。
    - 识别并重新启用那些暂时被禁用但应该恢复的功能。
    - 确认没有核心功能意外丢失。

- **参数提取与配置化:**
    - 识别代码中散落的各种可调参数（例如：概率阈值、时间间隔、次数限制、LLM 模型名称等）。
    - 将这些参数统一提取到模块或类的顶部。
    - 最终将这些参数移至外部配置文件（如 YAML 或 JSON 文件），方便用户自定义。

- **提供 HFC (HeartFlowChatInstance) 开启/关闭选项:**
    - 增加一个全局或针对特定子心流的配置选项。
    - 允许用户控制是否启用 `FOCUSED` 状态以及关联的 `HeartFlowChatInstance`。
    - 如果禁用 HFC，子心流可能只会在 `ABSENT` 和 `CHAT` 状态间切换。

- **添加防破线机制 (针对接收消息):**
    - 在消息处理流程的早期阶段 (例如 `HeartHC_processor` 或类似模块)，增加对接收到的消息文本长度的检查。
    - 对超过预设长度阈值的*接收*消息进行截断处理。
    - 目的是防止过长的输入（可能包含"破限"提示词）影响后续的兴趣计算、LLM 回复生成等环节。

- **NormalChat 模式下的记忆与 Prompt 优化:**
    - 重点审视 `NormalChatInstance` (闲聊/推理模式) 中记忆调用 (例如 `HippocampusManager` 的使用) 的方式。
    - 评估在该模式下引入工具调用 (Tool Calling) 机制以更结构化访问记忆的必要性。
    - 优化 `NormalChatInstance` 中与记忆检索、应用相关的 Prompt。

- **完善简易兴趣监控 GUI:**
    - 改进现有的、用于监控聊天兴趣度 (`InterestChatting`?) 的简单 GUI 界面。
    - 使其能更清晰地展示关键参数和状态，作为查看日志之外的更直观的监控方式。
    - 作为完整外部 UI 开发完成前的临时替代方案。

- **修复/完善中期记忆 (Midterm Memory):**
    - 检查当前中期记忆模块的状态。
    - 修复已知问题，使其能够稳定运行。
    - (优先级视开发时间而定)


对于有些群频繁激活HFC，却不回复，需要处理一下
